var pushWrap={wrapObj:function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&pushWrap.safeWrap(e,t)},safeWrap:function(e,t){var n=e[t];e[t]=function(t,r,o,s,i,a,c,u,l,p,h,m){try{return n.call(e,t,r,o,s,i,a,c,u,l,p,h,m)}catch(e){pushWrap.report(e)}}},report:function(e){var t={event:"webpush-error-generic",scope:"Website",scopeId:"5994a6e29d660c673826287c",l:encodeURIComponent(location.href),e:JSON.stringify(e,Object.getOwnPropertyNames(e))},n="event="+t.event+"&scope="+t.scope+"&scopeId="+t.scopeId+(navigator&&navigator.userAgent?"&ua="+navigator.userAgent:"")+(t.l?"&l="+t.l:"")+(t.e?"&e="+t.e:"");"function"==typeof fetch&&fetch("https://trc.pushnami.com/api/push/track",{method:"POST",body:encodeURI(n),mode:"cors",redirect:"follow",headers:new Headers({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",key:"5994a6e29d660c673826287b"})})}};try{var showFbChkOptIn=function(){},mailnamiPromptModule=function(){if(window.mailnami)return window.mailnami;var e={shown:!1,callerPrompt:"now"},t="pushnamiMailnamiSubscriberId",n="pushnamiMailnamiUnsubscribed",r=function(){return"true"===localStorage.getItem(n)?null:localStorage.getItem(t)||null},o={enabled:!1,init:function(){return Promise.resolve(e)},on:function(){},getPSID:r,subscribe:function(){return Promise.resolve({subscriberId:null})},unsubscribe:function(){return Promise.resolve(!1)},update:function(){return o}};return window.mailnami=o}();mailnamiPromptModule.init({promptEvent:"webpush-optin-load"});var isOSXSafari="safari"in window&&"pushNotification"in window.safari;if(isOSXSafari){var safariScript=document.createElement("script");safariScript.type="text/javascript",safariScript.src="https://api.pushnami.com/scripts/v1/pushnami-apn/5994a6e29d660c673826287b",document.getElementsByTagName("head")[0].appendChild(safariScript)}Pushnami=function(e){"use strict";function t(e){console.log(JSON.stringify(e));var t=encodeURI("event="+e.event+"&scope="+e.scope+"&scopeId="+e.scopeId+(e.pstag?"&pstag="+e.pstag:"")+(e.pstag_android?"&pstag_android="+e.pstag_android:"")+("1"===n&&navigator&&navigator.userAgent?"&ua="+navigator.userAgent:"")+(e.l?"&l="+e.l:"")+(e.e?"&e="+e.e:"")),n="0";return fetch("https://trc.pushnami.com/api/push/track",{method:"POST",body:t,mode:"cors",redirect:"follow",headers:new Headers({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",key:key})}).then(function(e){return e.ok?(console.log("Tracking OK",e),!0):(console.error("Tracking error",e),!1)}).catch(function(e){return console.error(e),!1})}function n(){var t={upush:["upushPermission","upushRequest"],accengage:["AccengageWebSDKObject"],aimtell:["aimtellDebugBox","_aimtellVersion"],cleverpush:["CleverPush"],foxpush:["_foxpush"],frizbit:["frizbit"],izooto:["Izooto"],letreach:["ltr"],letsocify:["let_socify"],onesignal:["OneSignal"],push_monkey:["PushMonkey"],pushalert:["PushAlertCo"],pushcrew:["pushcrew"],pushe:["PusheHttp"],pushflew:["PushflewLibrary"],pushwoosh:["Pushwoosh"],sendmsgs:["sendMessageToSW"],shophero_io:["SHOPHERO"],urban_airship:["UA"],wonderpush:["WonderPush"],goroost:["_roost"]},n=[];for(var r in t)t.hasOwnProperty(r)&&t[r].forEach(function(t){void 0!==typeof e&&e[t]&&n.push(r)});return n[0]||null}function r(t){for(var n=(4-t.length%4)%4,r="",o=0;o<n;o++)r+="=";for(var s=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),i=e.atob(s),a=new Uint8Array(i.length),c=0;c<i.length;++c)a[c]=i.charCodeAt(c);return a}function o(r){if(!(p()||{}).pnblock){if(r&&r.ts){var o=[{key:"a",type:"legacy",delay:0,_id:"5db87450ef875c0012e244ee",behavior:"always-macos-only",dist:1,name:"MacOS"}],a=!1;if(o.forEach(function(e){if(e.traditional&&e.traditional.enabled&&!a){var t=e.type,n=e.advanced,o=e.switch,s=e.traditional;if(o&&o.enabled)r||(r={}),n&&n.enabled&&Pushnami.showOverlay({aggressive:n}),r.message=r&&r.tsMsg||o.message||"Get Alert Notifications Personalized for You",r.subMessage=r&&r.tsSubMsg||o.subMessage||"",r.switch=!0,Pushnami.showTwoStep.init(r,Pushnami.showPrompt);else{var i=s&&s.message||"Get Alert Notifications Personalized for You";r||(r={}),n&&n.enabled&&Pushnami.showOverlay({aggressive:n}),r.message=r&&r.tsMsg||s&&s.message||"Get Alert Notifications Personalized for You",r.subMessage=r&&r.tsSubMsg||s&&s.subMessage||"",r.allow=s&&s.allow||"Allow",r.block=s&&s.block||"Block",r.switch=!1,Pushnami.showTwoStep.init(r,Pushnami.showPrompt)}a=!0}}),a)return}if(localStorage.getItem("pushnamiSubscriptionBlock"))return Pushnami;Pushnami.fire("permissions-initializing");var c=Boolean("localhost"===e.location.hostname||"[::1]"===e.location.hostname||e.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===e.location.protocol||c)?(navigator.serviceWorker.register(s||"/service-worker.js").catch(function(e){console.error("Pushnami - error registering service-worker",e),t({event:"webpush-error-no-sw",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href),e:e&&e.message&&"Registration failed - permission denied"!==e.message?e.message:null})}),navigator.serviceWorker.ready.then(function(o){console.log(JSON.stringify(o));var i=o&&o.active&&o.active.scriptURL||null;if(i&&-1===!i.indexOf(s||"/service-worker.js")&&t({event:"webpush-error-unrecognized-sw",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href),e:null}),n()&&t({event:"webpush-error-sw-conflict-detected",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href),e:null}),!("safari"in e&&"pushNotification"in e.safari)){var a={userVisibleOnly:!0};l&&(a.applicationServerKey=l),new Promise(function(t){if(!r||!r.multi)return t("granted");e.Notification.requestPermission(t)}).then(function(n){if("granted"===n){if(!o||!o.pushManager||!o.pushManager.subscribe)return;(e&&e.navigator&&e.navigator.userAgent&&/samsungbrowser/i.test(e.navigator.userAgent)?o.pushManager.getSubscription().then(function(e){return e||o.pushManager.subscribe(a)}):o.pushManager.subscribe(a)).then(function(n){var r={sub:n,subscriberId:localStorage.getItem("pushnamiSubscriberId"),urlParams:p()};if(websiteId&&(r.websiteId=websiteId),Pushnami&&Pushnami.psfp&&Pushnami.psfp.data)localStorage.removeItem("pushnami-psp-status"),r.psfp=Pushnami.psfp.data.toString();else{"pending"===localStorage.getItem("pushnami-psp-status")&&localStorage.setItem("pushnami-psp-status","incomplete")}Pushnami&&Pushnami.psfpv2&&(r.psfpv2=Pushnami.psfpv2);var o="5c425133236d8f4b44b4b5dd";r.pkid=o;var s=mailnamiPromptModule.getPSID();return s&&(r.emailSubscriberId=s),fetch("https://api.pushnami.com/api/push/subscribe",{method:"POST",body:JSON.stringify(r),mode:"cors",redirect:"follow",headers:new Headers({key:key})}).then(function(e){return e.json()}).then(function(e){var t="SUBSCRIBED"===localStorage.getItem("pushnamiSubscriptionStatus");return localStorage.setItem("pushnamiSubscriberId",e.subscriberId),localStorage.setItem("pushnamiSubscriptionStatus","SUBSCRIBED"),Pushnami.fire("permissions-action-subscribed"),t||Pushnami.fire("permissions-action-subscribed-new"),e}).then(function(e){var n="https://api.pushnami.com/api/tbid?psid="+(e.subscriberId||"")+"&tbid=<TUID>",r="https://trc.taboola.com/sg/pushnami/1/cm?redirect="+encodeURIComponent(n);return fetch(r,{method:"GET",mode:"no-cors",redirect:"follow",credentials:"include"}).catch(function(e){t({event:"webpush-error-general",scope:"Website",scopeId:websiteId,e:e&&e.message?e.message:null})}),e}).then(function(t){return e&&e.pushnamiStorage?e.pushnamiStorage.onConnect().then(function(){return e.pushnamiStorage.set("psfp:4549186b0a4cd40736d20547e97527ce",t.subscriberId)}).then(function(e){return t}).catch(function(e){return pushWrap.report(e),!0}):t}).then(function(e){if(Pushnami.pendingEnrollments)for(var t in Pushnami.pendingEnrollments)Pushnami.pendingEnrollments.hasOwnProperty(t)&&h(e.subscriberId,t,Pushnami.pendingEnrollments[t]);return e}).catch(function(e){return Pushnami.fire("permissions-failed"),t({event:"webpush-error-subscription",scope:"Website",scopeId:websiteId,e:e&&e.message?e.message:null}),console.error("Pushnami - Subscription Error",e),!1})}).catch(function(e){var n=["Registration failed - permission denied","User denied permission to use the Push API.","Failed to register a ServiceWorker: The user denied permission to use Service Worker.","User denied permission to use the Push API"],r=!!(e&&e.message&&n.indexOf(e.message)>-1);if(r?Pushnami.fire("permissions-blocked-ignored"):Pushnami.fire("permissions-failed"),e.message&&"Registration failed - missing applicationServerKey, and manifest empty or missing"===e.message){var o=!1;document&&document.head&&document.head.childNodes&&document.head.childNodes.forEach(function(e){"manifest"===e.rel&&(o=!0)}),o?(console.error("Pushnami - error manifest not found"),t({event:"webpush-error-no-manifest",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href)})):(console.error("Pushnami - error manifest tag not found"),t({event:"webpush-error-no-manifest-tag",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href)}))}else r||(console.error("Pushnami - error ",e),t({event:"webpush-error-general",scope:"Website",scopeId:websiteId,e:e&&e.message?e.message:null}));return!1})}})}}).catch(function(e){Pushnami.fire("permissions-failed"),console.error("Error during service worker registration:",e)})):(Pushnami.fire("permissions-not-showing"),"https:"===e.location.protocol||c||(console.error("Pushnami - error not SSL"),t({event:"webpush-error-not-ssl",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href)}))),"permissions"in navigator?navigator.permissions.query({name:"notifications"}).then(function(e){var n=function(){return{requestPermission:function(){},show:function(){}}}();Pushnami.state=e.state,Pushnami.fire("permissions-prompt-"+e.state);var r=Pushnami&&Pushnami.ts;if(e&&e.state&&"prompt"==e.state&&!r){n.requestPermission();var o=p(),s={event:"webpush-ssl-optin-shown",scope:"Website",scopeId:websiteId};i.forEach(function(e){o&&o[e]&&(s[e]=o[e])}),t(s)}e.onchange=function(){Pushnami.state=this.state,"denied"===this.state&&Pushnami.fire("permissions-prompt-action-deny");var e=localStorage.getItem("pushnamiSubscriberId");if("granted"===this.state&&n.show(!0),"granted"!==this.state&&e){var t={state:this.state,subscriberId:e};return fetch("https://api.pushnami.com/api/push/unsubscribe",{method:"POST",body:JSON.stringify(t),mode:"cors",redirect:"follow",headers:new Headers({key:key})}).then(function(e){return e.ok?(Pushnami.fire("permissions-action-unsubscribed"),localStorage.setItem("pushnamiSubscriptionStatus","UNSUBSCRIBED"),!0):(console.error(err),!1)}).catch(function(e){return console.error(e),!1})}}}):Pushnami.fire("permissions-not-compatible")}}var key="5994a6e29d660c673826287b",websiteId="5994a6e29d660c673826287c",s="/service-worker.js",i=["pstag","pstag_android"],a="safari"in e&&"pushNotification"in e.safari;if(!a&&!navigator.serviceWorker||!localStorage||"https:"!==e.location.protocol&&Boolean("localhost"!==e.location.hostname&&"[::1]"!==e.location.hostname&&!e.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))){var c={setVariables:function(){return c},on:function(){return c},fire:function(){return c},convert:function(){return c},update:function(){return c},enroll:function(){return c},unenroll:function(){return c},clear:function(){return c},showOverlay:function(){return c},prompt:function(){return c},getPSID:function(){return c},unsubscribe:function(){return c}};return"https:"===e.location.protocol||"https:"===e.location.protocol||Boolean("localhost"===e.location.hostname||"[::1]"===e.location.hostname||e.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))||(console.error("Pushnami - error not SSL"),t({event:"webpush-error-not-ssl",scope:"Website",scopeId:websiteId,l:encodeURIComponent(location.href)})),c}var u="BAh7gBV+CsyYLYcDezTxGFld8X/4fz9U73m36TuxUHH7dZRP90K9Vjm7aPd95Y5zuIeq4ro2+3eqzGOGm/969ys",l=u.length>0?r(u):void 0,p=function(){var t={},n=e.location.href.split("#")[0],r;if(n.indexOf("?")>0)for(var o=n.slice(n.indexOf("?")+1).split("&"),s=0;s<o.length;s++)try{r=o[s].split("="),r&&r[0]&&r[1]&&(t[r[0]]=decodeURIComponent(r[1]))}catch(e){console.log("Failed to decode variable "+e)}var i=Pushnami.data;for(var key in i)i.hasOwnProperty(key)&&(t[key]=i[key]);return t},h=function(e,t,n){delete Pushnami.pendingEnrollments[t];var r={psid:e,tag:t,renew:!!n.renew};"number"==typeof n.renewThreshold&&(r.renewThreshold=n.renewThreshold),fetch("https://api.pushnami.com/api/push/waterfall/enrollment",{method:"POST",body:JSON.stringify(r),mode:"cors",redirect:"follow",headers:new Headers({key:"5994a6e29d660c673826287b"})}).then(function(e){return e.json()}).then(function(e){if(!e)throw new Error("No data returned by API");if(e.errors)throw new Error(JSON.stringify(e.errors));if(!e.results||1!==e.results.processed)throw new Error("No results returned by API");return e}).catch(function(e){console.error("Pushnami - Error enrolling subscriber: ",e)})},m=function(e,t,n){fetch("https://api.pushnami.com/api/push/waterfall/enrollment?psid="+e+"&tag="+t,{method:"DELETE",mode:"cors",redirect:"follow",headers:new Headers({key:"5994a6e29d660c673826287b"})}).then(function(e){return e.json()}).then(function(e){if(!e)throw new Error("No data returned by API");if(e.errors)throw new Error(JSON.stringify(e.errors));if(!e.results||1!==e.results.processed)throw new Error("No results returned by API");return e}).catch(function(e){console.error("Pushnami - Error unenrolling subscriber: ",e)})},c={data:{},pendingEnrollments:{},state:null,callbacks:{},setVariables:function(e){for(var key in e)e.hasOwnProperty(key)&&"pstag_android"!==key&&""!==e[key]&&null!=e[key]&&(Pushnami.data[key]=e[key]);return Pushnami},on:function(e,t){return"string"==typeof e?Pushnami.callbacks[e]?Pushnami.callbacks[e].push(t):Pushnami.callbacks[e]=[t]:"[object Array]"===Object.prototype.toString.call(e)&&e.forEach(function(e){Pushnami.on(e,t)}),Pushnami},testError:function(){throw"testing error"},fire:function(e){Pushnami.callbacks[e]&&Pushnami.callbacks[e].forEach(function(e){try{e()}catch(e){console.error("Callback Error ",e)}})},convert:function(e){if(!/^[a-z0-9]{24}$/.test(e))return!1;var t={event:"webpush-conversion",scope:"Campaign",scopeId:e,l:encodeURIComponent(location.href)},n="event="+t.event+"&scope="+t.scope+"&scopeId="+t.scopeId+(t.l?"&l="+t.l:"")+(t.e?"&e="+t.e:"");"function"==typeof fetch&&fetch("https://trc.pushnami.com/api/push/track",{method:"POST",body:encodeURI(n),mode:"cors",redirect:"follow",headers:new Headers({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",key:"5994a6e29d660c673826287b"})})},update:function(t){t||(t={});for(var n in t)t.hasOwnProperty(n)&&""===t[n]&&delete t[n];var r=e.location.href.split("#")[0],o;if(t=t||{},r.indexOf("?")>0)for(var s=r.slice(r.indexOf("?")+1).split("&"),i=0;i<s.length;i++)try{o=s[i].split("=");var a=decodeURIComponent(o[1]);a&&o&&o[0]&&!t[o[0]]&&(t[o[0]]=a)}catch(e){console.log("Pushnami - Failed to decode variable "+e)}var c=Pushnami.data;for(var key in c)if(c.hasOwnProperty(key)){var u=c[key];u&&(t[key]=u)}t.pstag_android&&delete t.pstag_android;var l=t.psid;delete t.psid;var p=l||localStorage.getItem("pushnamiSubscriberId");if(Pushnami.setVariables(t),!p)return Pushnami;t.svu=!0;var h={sub:{},urlParams:t,subscriberId:p};return localStorage.getItem("pushnamiSubscriptionBlock")?Pushnami:(h.websiteId="5994a6e29d660c673826287c",fetch("https://api.pushnami.com/api/push/subscribe",{method:"POST",body:JSON.stringify(h),mode:"cors",redirect:"follow",headers:new Headers({key:"5994a6e29d660c673826287b"})}).catch(function(e){console.error("Pushnami - Error updating subscriber: ",e)}),Pushnami)},enroll:function(e,t){if(e){t=t||{};var n=localStorage.getItem("pushnamiSubscriberId");n?h(n,e,t):Pushnami.pendingEnrollments[e]=t}else console.error("Must specify a tag during enrollment");return Pushnami},unenroll:function(e,t){if(e){t=t||{};var n=localStorage.getItem("pushnamiSubscriberId");n&&m(n,e,t)}else console.error("Must specify a tag during enrollment");return Pushnami},clear:function(){Pushnami.callbacks={}},showTwoStep:{init:function(n,r){Pushnami.showTwoStep.initCalled=!0,function(){return"safari"in e&&"pushNotification"in e.safari?(Pushnami.pendingSafariPrompt=!0,Promise.resolve({state:"prompt"})):navigator.permissions.query({name:"notifications"})}().then(function(e){if("prompt"!==e.state)return r&&r(n)||Pushnami.prompt(n);if(n&&n.ts||d.invokeBasedOnBehavior(n.behavior)){n&&n.ts&&delete n.ts;var o=localStorage.getItem("pushnamiSubscriptionBlock"),s=localStorage.getItem("pushnamiSubscriptionBlockExpr");if(!o||s&&(new Date).getTime()>s)if(sessionStorage.getItem("pushnamiTSSubscriptionShown"))r&&r(n)||Pushnami.prompt(n);else{Pushnami.showOverlay(),n&&n.message&&(Pushnami.showTwoStep.message=n.message),n&&n.subMessage&&(Pushnami.showTwoStep.subMessage=n.subMessage),n&&n.switch&&(Pushnami.showTwoStep.switch=!0),n&&n.allow&&(Pushnami.showTwoStep.allowText=n.allow),n&&n.block&&(Pushnami.showTwoStep.blockText=n.block),n&&n.location&&(Pushnami.showTwoStep.location=n.location);var a=document.createElement("link");a.href="https://api.pushnami.com/scripts/v1/pushnami-two-step-styles/5994a6e29d660c673826287b",a.type="text/css",a.rel="stylesheet",a.media="screen,print",document.getElementsByTagName("head")[0].appendChild(a);var u=document.createElement("script");u.src="https://api.pushnami.com/scripts/v1/pushnami-two-step/5994a6e29d660c673826287b",u.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(u),Pushnami.state="prompt",Pushnami.fire("permissions-two-step-shown"),Pushnami.ts=!0;var l=p(),h={event:"webpush-ssl-optin-shown",scope:"Website",scopeId:"5994a6e29d660c673826287c"};i.forEach(function(e){l&&l[e]&&(h[e]=l[e])}),t(h)}}else Pushnami.showOverlay(),r&&r(n)||Pushnami.prompt(n);c.showTwoStep.dismiss=function(){var e=document.getElementById("push-container");e&&(e.style.display="none"),Pushnami.fire("permissions-two-step-dismissed")},c.showTwoStep.block=function(){localStorage.setItem("pushnamiSubscriptionBlock","BLOCKED"),n&&n.tsExp&&localStorage.setItem("pushnamiSubscriptionBlockExpr",(new Date).getTime()+n.tsExp);var e=document.getElementById("push-container");e&&(e.style.display="none");var t=document.getElementById("push-popup-container");t&&(t.style.display="none"),Pushnami.fire("permissions-two-step-blocked")},c.showTwoStep.allow=function(){sessionStorage.setItem("pushnamiTSSubscriptionShown",!0);var e=document.getElementById("push-container");e&&(e.style.display="none");var t=document.getElementById("push-popup-container");t&&(t.style.display="none"),Pushnami.showOverlay(),Pushnami.fire("permissions-two-step-granted"),r&&r(n)||Pushnami.prompt(n)}})}},showOverlay:function(e){var t=e&&e.aggressive,n=t&&t.enabled||!1,r="true";if(!localStorage.getItem("pushnamiSubscriptionBlock")){var o="The Easiest Way to Find a Job!",s="Click 'Allow' for push notifications to receive updates on who's hiring!";Pushnami.aggressiveTitle=n&&t&&t.title||o,Pushnami.aggressiveMessage=n&&t&&t.message||s;var i=document.createElement("link");i.href="https://cdn.pushnami.com/css/opt-in/opt-in.css",i.type="text/css",i.rel="stylesheet",i.media="screen,print",document.getElementsByTagName("head")[0].appendChild(i);var a=document.createElement("script");a.src="https://cdn.pushnami.com/js/opt-in/opt-in.js",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}return Pushnami},prompt:function(n){n=n||{};var r=n._skipMailnamiPrompt;if(delete n._skipMailnamiPrompt,!r){var s=!1,i=function(){return s?console.warn("Already attempted to prompt without Mailnami"):(n._skipMailnamiPrompt=!0,Pushnami.prompt(n)),s=!0,!1};return mailnamiPromptModule.init({promptEvent:"webpush-optin-prompt",config:n&&n.mailnami}).then(function(e){var t=e.shown,n=e.callerPrompt;if(!t)return void i();switch(n){case"wait":mailnamiPromptModule.on(["optin","optin-failed","optout"],i);break;case"never":break;case"now":default:i();break}}).catch(function(e){console.error("Mailnami initialization during prompt failed",e),i()}),Pushnami}var a=function(t){var n=o.bind(o,t||{});"safari"in e&&"pushNotification"in e.safari&&(Pushnami.pendingSafariPrompt=!0),t?t.onClick&&t.delay?document.getElementById(t.onClick).onclick=function(){setTimeout(n,t.delay)}:t.onClick?document.getElementById(t.onClick).onclick=n:t.delay?setTimeout(n,t.delay):n():n()},c=n&&n.preventDuplicate;return void 0===c&&(c=!1),c&&Pushnami&&Pushnami.psfp&&Pushnami.psfp.done?Promise.race([Pushnami.psfp.done,new Promise(function(t,n){e.setTimeout(function(){t(!0)},5e3)})]).then(function(e){return e?a(n):t({event:"webpush-prevent-duplicate",scope:"Website",scopeId:"5994a6e29d660c673826287c",l:encodeURIComponent(document.documentURI)})}).catch(function(e){a(n),pushWrap.report(e)}):a(n),Pushnami},getPSID:function(){return localStorage.getItem("pushnamiSubscriberId")},unsubscribe:function(t){t=t||{},"safari"in e&&"pushNotification"in e.safari?Pushnami.unsubscribeAPN():Pushnami.unsubscribeSW(t)},unsubscribeAPN:function(){var t="v2",n="web.com.promotionbrand",r=e.safari.pushNotification.permission(n).deviceToken,o="/api/apn/v2/devices/"+r+"/registrations/"+n;fetch("https://api.pushnami.com"+o,{method:"DELETE",mode:"cors",redirect:"follow"}).then(function(e){return e.ok?(localStorage.setItem("pushnamiSubscriptionStatus","UNSUBSCRIBED"),localStorage.setItem("pushnamiSubscriptionBlock","BLOCKED"),console.log("Pushnami - unsubscribed"),!0):(console.error("Pushnami - unsubscribe [api] error: ",err),!1)}).catch(function(e){return console.error("Pushnami - unsubscribe [fetch] error: ",e),!1})},unsubscribeSW:function(e){var t=localStorage.getItem("pushnamiSubscriberId");return navigator&&navigator.serviceWorker&&t&&navigator.serviceWorker.ready.then(function(n){return n.pushManager.getSubscription().then(function(n){return n.unsubscribe().then(function(n){return fetch("https://api.pushnami.com/api/push/unsubscribe",{method:"POST",body:JSON.stringify({state:"blocked",subscriberId:t,forget:e.forget||!1}),mode:"cors",redirect:"follow",headers:new Headers({key:"5994a6e29d660c673826287b"})}).then(function(e){return e.ok?(localStorage.setItem("pushnamiSubscriptionStatus","UNSUBSCRIBED"),localStorage.setItem("pushnamiSubscriptionBlock","BLOCKED"),!0):(console.error("Unsubscribe [api] error: ",err),!1)}).catch(function(e){return console.error("Unsubscribe [fetch] error: ",e),!1})}).catch(function(e){return console.error("Unsubscribe [sub] error: ",e),!1})})}),Pushnami}},d={lastPsTagAndroid:null,browserTest:function(){if(!localStorage||localStorage.getItem("pushnamiSubscriberId"))return!1;if(!navigator.serviceWorker||"https:"!==e.location.protocol&&Boolean("localhost"!==e.location.hostname&&"[::1]"!==e.location.hostname&&!e.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)))return!1;if(e&&e.navigator&&e.navigator.userAgent&&/chrome/i.test(e.navigator.userAgent)&&/android/i.test(e.navigator.userAgent)){var t=e.navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),n=!!t&&parseInt(t[2],10);if(n&&n>62)return!0}return!1},init:function(t){var n=[{key:"a",type:"legacy",delay:0,_id:"5db87450ef875c0012e244ee",behavior:"always-macos-only",dist:1,name:"MacOS"}];if(n.length>1){var r=Math.random(),o=0,s={},i=e.location.href.split("#")[0],c;if(i.indexOf("?")>0)for(var u=i.slice(i.indexOf("?")+1).split("&"),l=0;l<u.length;l++)try{c=u[l].split("="),c&&c[0]&&c[1]&&(s[c[0]]=decodeURIComponent(c[1]))}catch(e){console.log("Failed to decode variable "+e)}var p;n.forEach(function(e){if(a)return void(!e||"always-macos-only"!==e.behavior&&"always-macos-only-all-versions"!==e.behavior||(p=e));!e.key||e.key!==s.pstest&&e.key.toUpperCase()!==s.pstest||(p=e)}),p?d.useStrategy(p,t):n.forEach(function(e){var n=e.dist||0;o<=r&&r<o+n&&d.useStrategy(e,t),o+=n})}else 1===n.length&&d.useStrategy(n[0],t)},getStrategyName:function(e){return(e.type||"na")+(e.switch&&e.switch.enabled?"_swipe":"")+(e.traditional&&e.traditional.enabled?"_traditional":"")+(e.advanced&&e.advanced.enabled?"_advanced":"")+"_"+e.name},invokeBasedOnBehavior:function(t){switch(t){case"always":var n=Boolean("localhost"===e.location.hostname||"[::1]"===e.location.hostname||e.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),r="https:"===e.location.protocol,o="serviceWorker"in navigator,s="safari"in e&&"pushNotification"in e.safari;return o&&!s&&(r||n);case"always-macos-only":if(!a)return!1;var i=navigator&&navigator.userAgent;if(!i)return!1;var c=/Version\/(.*?) /.exec(i);if(!c||c.length<1)return!1;var u=-1;try{u=parseFloat(c[1])}catch(e){return!1}return u&&u>=12.1;case"always-macos-only-all-versions":return!!a;default:case"always-android-only":return d.browserTest()}},useStrategy:function(e,t){var n=e.type,r=e.advanced,o=e.switch,s=e.traditional,i=e.delay,u=e.behavior,l=e.location,p=d.getStrategyName(e);if(d.lastPsTagAndroid=p,!d.invokeBasedOnBehavior(u))return void("always-macos-only"!==u&&"always-macos-only-all-versions"!==u||!a||t&&t()||c.prompt());c.data.pstag_android=p;var h=t||c.prompt,m;if("modern"===n)m=function(e){r&&r.enabled&&c.showOverlay({aggressive:r}),h(e)};else if("legacy"===n)if(o&&o.enabled)m=function(e){e||(e={}),r&&r.enabled&&c.showOverlay({aggressive:r}),e.message=e&&e.tsMsg||o.message||"Get Alert Notifications Personalized for You",e.subMessage=e&&e.tsSubMsg||o.subMessage||"",e.switch=!0,e.behavior=u,e.location=l,c.showTwoStep.init(e,h)};else{var f=s&&s.message||"Get Alert Notifications Personalized for You";m=function(e){e||(e={}),r&&r.enabled&&c.showOverlay({aggressive:r}),e.message=e&&e.tsMsg||s&&s.message||"Get Alert Notifications Personalized for You",e.subMessage=e&&e.tsSubMsg||s&&s.subMessage||"",e.allow=s&&s.allow||"Allow",e.block=s&&s.block||"Block",e.switch=!1,e.behavior=u,e.location=l,c.showTwoStep.init(e,h)}}i&&parseInt(i)>0&&setTimeout?c.prompt=function(e){setTimeout(function(){m(e)},parseInt(i))}:c.prompt=m}};c.ash=d,a||d.init();var f={data:null,build:function(){"incomplete"!==localStorage.getItem("pushnami-psp-status")&&localStorage.setItem("pushnami-psp-status","pending"),function(t){function n(e,t){t=t||{},this._id=n._generateUUID(),this._promise=t.promise||Promise,this._frameId=t.frameId||"CrossStorageClient-"+this._id,this._origin=n._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=t.timeout||5e3,this._listener=null,this._installListener();var r;t.frameId&&(r=document.getElementById(t.frameId)),r&&this._poll(),r=r||this._createFrame(e),this._hub=r.contentWindow}n.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},n._getOrigin=function(t){var n,r,o;return n=document.createElement("a"),n.href=t,n.host||(n=e.location),r=n.protocol&&":"!==n.protocol?n.protocol:e.location.protocol,o=r+"//"+n.host,o=o.replace(/:80$|:443$/,"")},n._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},n.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(t,n){var r=setTimeout(function(){n(new Error("CrossStorageClient could not connect"))},e._timeout);e._requests.connect.push(function(e){return clearTimeout(r),e?n(e):void t()})}))},n.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},n.prototype.get=function(){var e=Array.prototype.slice.call(arguments);return this._request("get",{keys:e})},n.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},n.prototype.clear=function(){return this._request("clear")},n.prototype.getKeys=function(){return this._request("getKeys")},n.prototype.close=function(){var t=document.getElementById(this._frameId);t&&t.parentNode.removeChild(t),e.removeEventListener?e.removeEventListener("message",this._listener,!1):e.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},n.prototype._installListener=function(){var t=this;this._listener=function(e){var n,r,o,s;if(!t._closed&&e.data&&"string"==typeof e.data&&(r="null"===e.origin?"file://":e.origin)===t._origin)if("cross-storage:unavailable"!==e.data){if(-1!==e.data.indexOf("cross-storage:")&&!t._connected){if(t._connected=!0,!t._requests.connect)return;for(n=0;n<t._requests.connect.length;n++)t._requests.connect[n](o);delete t._requests.connect}if("cross-storage:ready"!==e.data){try{s=JSON.parse(e.data)}catch(e){return}s.id&&t._requests[s.id]&&t._requests[s.id](s.error,s.result)}}else{if(t._closed||t.close(),!t._requests.connect)return;for(o=new Error("Closing client. Could not access localStorage in hub."),n=0;n<t._requests.connect.length;n++)t._requests.connect[n](o)}},e.addEventListener?e.addEventListener("message",this._listener,!1):e.attachEvent("onmessage",this._listener)},n.prototype._poll=function(){var e,t,n;e=this,n="file://"===e._origin?"*":e._origin,t=setInterval(function(){return e._connected?clearInterval(t):void(e._hub&&e._hub.postMessage("cross-storage:poll",n))},1e3)},n.prototype._createFrame=function(t){var r,o;r=e.document.createElement("iframe"),r.id=this._frameId;for(o in n.frameStyle)n.frameStyle.hasOwnProperty(o)&&(r.style[o]=n.frameStyle[o]);return document.body.appendChild(r),r.src=t,r},n.prototype._request=function(e,t){var n,r;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(r=this,r._count++,n={id:this._id+":"+r._count,method:"cross-storage:"+e,params:t},new this._promise(function(e,t){var o,s,i;o=setTimeout(function(){r._requests[n.id]&&(delete r._requests[n.id],t(new Error("Timeout: could not perform "+n.method)))},r._timeout),r._requests[n.id]=function(s,i){return clearTimeout(o),delete r._requests[n.id],s?t(new Error(s)):void e(i)},Array.prototype.toJSON&&(s=Array.prototype.toJSON,Array.prototype.toJSON=null),i="file://"===r._origin?"*":r._origin,r._hub.postMessage(JSON.stringify(n),i),s&&(Array.prototype.toJSON=s)}))},t.CrossStorageClient=n}(e),e.pushnamiStorage=new e.CrossStorageClient("https://api.pushnami.com/scripts/v1/hub"),function(t){e.uuid=t()}(function(){return function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){var r=e("./v1"),o=e("./v4"),s=o;s.v1=r,s.v4=o,t.exports=s},{"./v1":4,"./v4":5}],2:[function(e,t,n){function r(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);t.exports=r},{}],3:[function(t,n,r){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof e.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var s=new Uint8Array(16);n.exports=function(){return o(s),s}}else{var i=new Array(16);n.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},{}],4:[function(e,t,n){function r(e,t,n){var r=t&&n||0,l=t||[];e=e||{};var p=e.node||o,h=void 0!==e.clockseq?e.clockseq:s;if(null==p||null==h){var m=i();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==h&&(h=s=16383&(m[6]<<8|m[7]))}
var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:u+1,g=d-c+(f-u)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||d>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=f,s=h,d+=122192928e5;var b=(1e4*(268435455&d)+f)%4294967296;l[r++]=b>>>24&255,l[r++]=b>>>16&255,l[r++]=b>>>8&255,l[r++]=255&b;var v=d/4294967296*1e4&268435455;l[r++]=v>>>8&255,l[r++]=255&v,l[r++]=v>>>24&15|16,l[r++]=v>>>16&255,l[r++]=h>>>8|128,l[r++]=255&h;for(var w=0;w<6;++w)l[r+w]=p[w];return t||a(l)}var o,s,i=e("./lib/rng"),a=e("./lib/bytesToUuid"),c=0,u=0;t.exports=r},{"./lib/bytesToUuid":2,"./lib/rng":3}],5:[function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||s(i)}var o=e("./lib/rng"),s=e("./lib/bytesToUuid");t.exports=r},{"./lib/bytesToUuid":2,"./lib/rng":3}]},{},[1])(1)});var t=uuid.v4(),n=e.pushnamiStorage.onConnect().then(function(){return e.pushnamiStorage.get("psfp:4549186b0a4cd40736d20547e97527ce","pdid")}).then(function(e){var t=e&&e[0];return{key:e&&e[1],hidePrompt:!!t}}).then(function(n){return n.key?n:e.pushnamiStorage.set("pdid",t).then(function(){return n.key=t,n})}).catch(function(e){return pushWrap.report(e),null});if("function"==typeof fetch)return n.then(function(e){if(!e||!e.key)return null;var t=document.cookie&&/trc_cookie_storage=taboola%2520global%253Auser-id%3D(.*?)(;|$)/.exec(document.cookie),n=t&&t[1]||"",r="psp="+e.key+"&tbla="+n;if("incomplete"===localStorage.getItem("pushnami-psp-status")){var o=localStorage.getItem("pushnamiSubscriberId");o&&(r+="&psid="+o,localStorage.removeItem("pushnami-psp-status"))}return fetch("https://psp.pushnami.com/api/psp",{method:"POST",body:encodeURI(r),mode:"cors",redirect:"follow",headers:new Headers({Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded",key:"5994a6e29d660c673826287b"})}).then(function(){return e}).catch(function(e){pushWrap.report({msg:"PSP Error",err:e&&e.toString()})})}),n.catch(function(e){return pushWrap.report(e),null})},check:function(){return f.build().then(function(e){if(!e)return!0;var key=e.key,t=e.hidePrompt;return f.data=key,!t})},done:null};return f.done=function(){return"complete"===document.readyState?f.check():new Promise(function(t,n){e.addEventListener("load",t)}).then(f.check)}(),c.psfp=f,pushWrap.wrapObj(c),c}(window),Pushnami.on(["permissions-not-compatible","permissions-not-showing"],function(){var e="webpush-optin-cannot-be-shown";showFbChkOptIn(e),mailnamiPromptModule.init({promptEvent:e})}),Pushnami.on("permissions-failed",function(){var e="webpush-optin-failed";showFbChkOptIn(e),mailnamiPromptModule.init({promptEvent:e})}),Pushnami.on(["permissions-action-subscribed","permissions-action-apn-subscribed"],function(){var e="webpush-optin-subscribed";showFbChkOptIn(e),mailnamiPromptModule.init({promptEvent:e})}),Pushnami.on(["permissions-action-subscribed","permissions-failed","permissions-not-showing","permissions-prompt-granted","permissions-prompt-denied","permissions-prompt-action-deny","permissions-blocked-ignored","permissions-two-step-granted","permissions-two-step-blocked"],function(){try{var e=window.parent&&window.parent.document;if(e&&e.getElementById){var t=e.getElementById("push-overlay");t&&(t.style.display="none")}}catch(e){console.log("Failed to close parent document's push-overlay")}})}catch(e){if("undefined"==typeof Pushnami){var o={setVariables:function(){return o},convert:function(){return o},on:function(){return o},fire:function(){return o},update:function(){return o},enroll:function(){return o},unenroll:function(){return o},clear:function(){return o},showOverlay:function(){return o},prompt:function(){return o},getPSID:function(){return o},unsubscribe:function(){return o}};Pushnami=o}pushWrap.report(e)}